{% extends '_base' %}
{% block title_prefix %}{{ t('follows.title') }} | {% endblock %}
{% block body_class %}follows-body{% endblock %}
{% block body %}

<div class="content-header pb-0">
    <div class="col-lg-10 offset-lg-1 col-xl-8 offset-xl-2 col-xxl-6 offset-xxl-3">
        <h1>{{ t('follows.title') }}</h1>
        <p>{{ t('follows.description') }}</p>

        <nav>
            <ul class="nav nav-tabs nav-tabs-md flex-column flex-md-row">
                <li class="nav-item">
                    <a href="/follows/following" {% if active_tab == 'following' %} class="nav-link active"
                        aria-current="page" {% else %} class="nav-link" {% endif %}>
                        {{ t('follows.following') }}
                        <span class="badge text-bg-secondary ms-2">{{ following_count }}</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="/follows/followers" {% if active_tab == 'followers' %} class="nav-link active"
                        aria-current="page" {% else %} class="nav-link" {% endif %}>
                        {{ t('follows.followers') }}
                        <span class="badge text-bg-secondary ms-2">{{ followers_count }}</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>

<div class="content-body">
    <div class="col-lg-10 offset-lg-1 col-xl-8 offset-xl-2 col-xxl-6 offset-xxl-3">
        {% if active_tab == 'following' %}
        <div class="follows-pagination">
            {% if follows_num_items %}
            <nav aria-label="{{ t('pagination.page_navigation') }}">
                <ul class="pagination pagination-sm justify-content-end mb-2"></ul>
            </nav>
            <ul class="list-unstyled mb-2"></ul>
            <nav aria-label="{{ t('pagination.page_navigation') }}">
                <ul class="pagination pagination-sm justify-content-end mb-2" data-action="/api/web/follows/following"
                    data-pages="{{ follows_num_pages }}" data-num-items="{{ follows_num_items }}"
                    data-page-size="{{ FOLLOWS_LIST_PAGE_SIZE }}">
                </ul>
            </nav>
            {% else %}
            <div class="text-center text-muted py-5">
                <i class="bi bi-bookmark display-1 d-block mb-3"></i>
                <p>{{ t('follows.not_following_anyone') }}</p>
            </div>
            {% endif %}
        </div>
        {% endif %}

        {% if active_tab == 'followers' %}
        <div class="follows-pagination">
            {% if follows_num_items %}
            <nav aria-label="{{ t('pagination.page_navigation') }}">
                <ul class="pagination pagination-sm justify-content-end mb-2"></ul>
            </nav>
            <ul class="list-unstyled mb-2"></ul>
            <nav aria-label="{{ t('pagination.page_navigation') }}">
                <ul class="pagination pagination-sm justify-content-end mb-2" data-action="/api/web/follows/followers"
                    data-pages="{{ follows_num_pages }}" data-num-items="{{ follows_num_items }}"
                    data-page-size="{{ FOLLOWS_LIST_PAGE_SIZE }}">
                </ul>
            </nav>
            {% else %}
            <div class="text-center text-muted py-5">
                <i class="bi bi-people display-1 d-block mb-3"></i>
                <p>{{ t('follows.no_followers_yet') }}</p>
            </div>
            {% endif %}
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}
